!function(){var a=function(){this.hash=function(a){return a.split("").reduce(function(a,b){return a=(a<<5)-a+b.charCodeAt(0),a&a},0)}};Heart=function(e,f,g,h){var i=["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#607D8B"];this.primary,this.accent,this.margin=g||5,this.scale=h||20,this.cellSize=e.width-this.margin*this.scale-e.width/2,this.hash,this.blocks,this.shape,this.setUsername=function(b){var c=new a;this.hash=c.hash(b)},this.setPalette=function(a){return typeof a!=typeof[]||void 0===a.length?(console.warn("The palette must be an array of color values!"),!1):a.length<2?(console.warn("The palette must contain at least two values!"),!1):(i=a,void 0)},this.draw=function(){this.init(),f.save(),f.translate(e.width/2,e.height/2),f.rotate(-Math.PI/4),f.translate(-e.width/2,-e.height/2),this.generateBlocks(),this.drawBlocks(),this.drawOutline(),this.shape=new d(e,f,this.hash,this.primary,this.accent,{x:this.margin*this.scale+1.5*this.cellSize,y:this.margin*this.scale+.5*this.cellSize},this.scale,this.cellSize),this.shape.draw(),f.restore()},this.init=function(){this.blocks=new Array,this.shape=null,this.primary=i[Math.abs(this.hash%i.length)],this.accent=i[Math.abs(this.hash*this.hash%i.length%i.length)],f.globalCompositeOperation="source-over",f.clearRect(0,0,e.width,e.height),f.globalCompositeOperation="multiply"},this.offset=function(){f.save(),f.translate(.6*this.scale,-.6*this.scale)},this.resetOffset=function(){f.restore()},this.drawOutline=function(){this.offset(),f.beginPath(),f.moveTo(this.margin*this.scale,this.margin*this.scale),f.lineTo(this.margin*this.scale,e.height-this.margin*this.scale),f.lineTo(e.width-this.margin*this.scale,e.height-this.margin*this.scale),f.lineTo(e.width-this.margin*this.scale,e.height/2),f.lineTo(e.width/2,e.height/2),f.lineTo(e.width/2,this.margin*this.scale),f.closePath(),f.strokeStyle="black",f.lineWidth=this.scale*(500/e.width),f.lineJoin="round",f.lineCap="round",f.stroke(),f.beginPath(),f.moveTo(e.width/2,e.height/2),f.lineTo(this.margin*this.scale,e.height/2),f.moveTo(e.width/2,e.height/2),f.lineTo(e.width/2,e.height-this.margin*this.scale),f.stroke(),this.resetOffset()},this.generateBlocks=function(){var a=new c(e,f,b.ONE,this.primary,this.accent);a.setHash(this.hash),a.setPos({x:this.margin*this.scale,y:this.margin*this.scale}),a.setSizing(this.cellSize,this.margin,this.scale),this.blocks.push(a);var d=new c(e,f,b.TWO,this.primary,this.accent);d.setHash(this.hash),d.setPos({x:this.margin*this.scale,y:e.height/2}),d.setSizing(this.cellSize,this.margin,this.scale),this.blocks.push(d);var g=new c(e,f,b.THREE,this.primary,this.accent);g.setHash(this.hash),g.setPos({x:e.width/2,y:e.height/2}),g.setSizing(this.cellSize,this.margin,this.scale),this.blocks.push(g)},this.drawBlocks=function(){if(0==this.blocks.length)return!1;for(var a=0;a<this.blocks.length;a++)this.blocks[a].draw()}};var b=new function(){this.ONE=1,this.TWO=2,this.THREE=3},c=function(a,c,d,e,f){this.type=d,this.primary=e,this.accent=f,this.cellSize,this.margin,this.scale,this.pos,this.hash,this.setHash=function(a){this.hash=a},this.setPos=function(a){this.pos=a},this.setSizing=function(a,b,c){this.cellSize=a,this.margin=b,this.scale=c},this.offset=function(){c.save(),c.translate(.6*this.scale,-.6*this.scale)},this.resetOffset=function(){c.restore()},this.makePath=function(a,b){var d=Math.abs(a+b)%4;switch(d){case 0:c.beginPath(),c.moveTo(this.pos.x,this.pos.y),c.lineTo(this.pos.x+this.cellSize,this.pos.y),c.lineTo(this.pos.x+this.cellSize,this.pos.y+this.cellSize),c.closePath();break;case 1:c.beginPath(),c.moveTo(this.pos.x+this.cellSize,this.pos.y),c.lineTo(this.pos.x+this.cellSize,this.pos.y+this.cellSize),c.lineTo(this.pos.x,this.pos.y+this.cellSize),c.closePath();break;case 2:c.beginPath(),c.moveTo(this.pos.x,this.pos.y),c.lineTo(this.pos.x,this.pos.y+this.cellSize),c.lineTo(this.pos.x+this.cellSize,this.pos.y+this.cellSize),c.closePath();break;case 3:c.beginPath(),c.moveTo(this.pos.x,this.pos.y),c.lineTo(this.pos.x+this.cellSize,this.pos.y),c.lineTo(this.pos.x,this.pos.y+this.cellSize),c.closePath();break;default:c.beginPath(),c.moveTo(this.pos.x,this.pos.y),c.lineTo(this.pos.x+this.cellSize,this.pos.y),c.lineTo(this.pos.x,this.pos.y+this.cellSize),c.closePath()}},this.draw=function(){this.offset(),this.type===b.ONE?(this.makePath(this.hash,this.hash%3),c.fillStyle=this.primary,c.fill(),this.makePath(this.hash,this.hash%5),c.fillStyle=this.accent,c.fill()):this.type===b.TWO?(this.makePath(this.hash,this.hash%4),c.fillStyle=this.accent,c.fill(),this.makePath(this.hash,this.hash%3),c.fillStyle=this.primary,c.fill()):(this.makePath(this.hash,this.hash%7),c.fillStyle=this.accent,c.fill(),this.makePath(this.hash,this.hash%8),c.fillStyle=this.primary,c.fill()),this.resetOffset()}},d=function(a,b,c,d,e,f,g,h){this.hash=c,this.primary=d,this.accent=e,this.pos=f,this.scale=g,this.cellSize=h,this.getColor=function(){return[this.primary,this.accent][Math.abs(this.hash%2)]},this.makePath=function(){var a=Math.abs(this.hash+1)%4;switch(a){case 0:b.beginPath(),b.moveTo(this.pos.x,this.pos.y),b.lineTo(this.pos.x+this.cellSize/2,this.pos.y),b.lineTo(this.pos.x+this.cellSize/2,this.pos.y-this.cellSize/2),b.lineTo(this.pos.x,this.pos.y-this.cellSize/2),b.closePath();break;case 1:b.beginPath(),b.arc(this.pos.x+this.cellSize/Math.PI-5,this.pos.y-this.cellSize/Math.PI+5,this.cellSize/3,0,2*Math.PI,!0);break;case 2:b.beginPath(),b.moveTo(this.pos.x,this.pos.y),b.lineTo(this.pos.x+.65*this.cellSize,this.pos.y),b.lineTo(this.pos.x,this.pos.y-.65*this.cellSize),b.closePath();break;case 3:b.beginPath(),b.moveTo(this.pos.x-.2*this.cellSize,this.pos.y+.2*this.cellSize),b.quadraticCurveTo(this.pos.x+.4*this.cellSize,this.pos.y,this.pos.x+.5*this.cellSize,this.pos.y-.5*this.cellSize),b.moveTo(this.pos.x+.5*this.cellSize,this.pos.y-.5*this.cellSize),b.quadraticCurveTo(this.pos.x,this.pos.y-.4*this.cellSize,this.pos.x-.2*this.cellSize,this.pos.y+.2*this.cellSize);break;default:b.beginPath(),b.moveTo(this.pos.x,this.pos.y),b.lineTo(this.pos.x+this.cellSize/2,this.pos.y),b.lineTo(this.pos.x+this.cellSize/2,this.pos.y-this.cellSize/2),b.lineTo(this.pos.x,this.pos.y-this.cellSize/2),b.closePath()}},this.draw=function(){var c=this.getColor();this.makePath(),b.fillStyle=c,b.strokeStyle="black",b.lineWidth=this.scale*(400/a.width),b.lineJoin="round",b.lineCap="round",b.fill(),b.stroke()}}}();